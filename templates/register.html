<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>人才招聘系统</title>
  <link rel="stylesheet" href="/static/css/bootstrap.min.css">
</head>

<body class="bg-light">
  <div class="position-absolute top-0 start-0 end-0 bottom-0 d-flex justify-content-center align-items-center">
    <div class="loginbox border border-secondary bg-white border-2 p-4 rounded">
      <h3 class="text-center">注册</h3>
      <form action="/register" method="post" id="form">

        <label for="username" class="form-label">用户名</label>
        <input type="text" class="form-control mb-3" name="username" value="{{username}}" id="username">

        <label for="password" class="form-label">密码</label>
        <input type="password" class="form-control mb-3" name="password" id="password">

        <label for="check-password" class="form-label">确认密码</label>
        <input type="password" class="form-control mb-3" name="check-password" id="check-password">

        <script>
          function check_form() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            const check_password = document.getElementById("check-password").value;
            const elem_errmsg = document.getElementById("errmsg");
            const elem_form = document.getElementById("form");

            // console.log(username, password, check_password);
            if (!username) {
              elem_errmsg.innerText = "用户名不能为空";
            } else if (!password) {
              elem_errmsg.innerText = "密码不能为空";
            } else if (password !== check_password) {
              elem_errmsg.innerText = "两次输入的密码不一致";
            } else {
              // 验证通过，提交表单
              elem_form.submit();
            }
          }
        </script>

        <div class="text-center">
          <div class="text-danger mt-1" id="errmsg">{{errmsg}}</div>
          <a href="#" class="btn btn-primary mt-1" onclick="check_form()">注册</a>
          <a href="/login" class="btn btn-outline-secondary mt-1" type="button">登录</a>
        </div>

      </form>
    </div>
  </div>
</body>

</html>